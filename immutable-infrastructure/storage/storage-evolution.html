<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kubernetes存储设计 | 软件架构探索：The Fenix Project</title>
    <meta name="description" content="现代软件架构探索">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.acccec19.css" as="style"><link rel="preload" href="/assets/js/app.c6d84fc6.js" as="script"><link rel="preload" href="/assets/js/3.0a6c0dd5.js" as="script"><link rel="preload" href="/assets/js/6.b08f2b32.js" as="script"><link rel="preload" href="/assets/js/13.cfe7f46c.js" as="script"><link rel="preload" href="/assets/js/45.cffeafe3.js" as="script"><link rel="prefetch" href="/assets/js/1.dc887e24.js"><link rel="prefetch" href="/assets/js/10.8c29aeee.js"><link rel="prefetch" href="/assets/js/100.0e178979.js"><link rel="prefetch" href="/assets/js/101.eb438686.js"><link rel="prefetch" href="/assets/js/102.c57a5b1c.js"><link rel="prefetch" href="/assets/js/103.d55d8064.js"><link rel="prefetch" href="/assets/js/104.471d9c3c.js"><link rel="prefetch" href="/assets/js/105.39417a45.js"><link rel="prefetch" href="/assets/js/106.fd307fcd.js"><link rel="prefetch" href="/assets/js/107.ad07cca9.js"><link rel="prefetch" href="/assets/js/108.9d01528d.js"><link rel="prefetch" href="/assets/js/109.96fdabec.js"><link rel="prefetch" href="/assets/js/11.32196ba8.js"><link rel="prefetch" href="/assets/js/110.c3f01278.js"><link rel="prefetch" href="/assets/js/111.41ea8103.js"><link rel="prefetch" href="/assets/js/112.093c02de.js"><link rel="prefetch" href="/assets/js/113.2a9753e9.js"><link rel="prefetch" href="/assets/js/114.e92273e9.js"><link rel="prefetch" href="/assets/js/115.d8dc1d3f.js"><link rel="prefetch" href="/assets/js/116.d246d523.js"><link rel="prefetch" href="/assets/js/117.beabef42.js"><link rel="prefetch" href="/assets/js/118.da8d3c43.js"><link rel="prefetch" href="/assets/js/119.81a93370.js"><link rel="prefetch" href="/assets/js/12.30254f91.js"><link rel="prefetch" href="/assets/js/120.5dd456b9.js"><link rel="prefetch" href="/assets/js/121.5ebc43ef.js"><link rel="prefetch" href="/assets/js/122.77b1183e.js"><link rel="prefetch" href="/assets/js/123.eebedffd.js"><link rel="prefetch" href="/assets/js/124.2539203a.js"><link rel="prefetch" href="/assets/js/125.f0fb42e8.js"><link rel="prefetch" href="/assets/js/126.e52532da.js"><link rel="prefetch" href="/assets/js/127.1e47ee21.js"><link rel="prefetch" href="/assets/js/128.0ab1b42e.js"><link rel="prefetch" href="/assets/js/129.704a0b92.js"><link rel="prefetch" href="/assets/js/130.3df9fa84.js"><link rel="prefetch" href="/assets/js/131.5243e762.js"><link rel="prefetch" href="/assets/js/132.eaba4c4a.js"><link rel="prefetch" href="/assets/js/133.79de27d9.js"><link rel="prefetch" href="/assets/js/134.19b9a27d.js"><link rel="prefetch" href="/assets/js/135.409ee83c.js"><link rel="prefetch" href="/assets/js/136.1d103c3e.js"><link rel="prefetch" href="/assets/js/137.fdb4726b.js"><link rel="prefetch" href="/assets/js/138.8b4aa503.js"><link rel="prefetch" href="/assets/js/139.86ee6504.js"><link rel="prefetch" href="/assets/js/14.da7ce4f9.js"><link rel="prefetch" href="/assets/js/140.125cfef7.js"><link rel="prefetch" href="/assets/js/141.a7608767.js"><link rel="prefetch" href="/assets/js/142.4c73261d.js"><link rel="prefetch" href="/assets/js/143.2f9bcf81.js"><link rel="prefetch" href="/assets/js/144.00e8cd0d.js"><link rel="prefetch" href="/assets/js/145.3b28cd5c.js"><link rel="prefetch" href="/assets/js/146.8caf4aab.js"><link rel="prefetch" href="/assets/js/147.eb8cf370.js"><link rel="prefetch" href="/assets/js/148.087c9f7e.js"><link rel="prefetch" href="/assets/js/149.6b00a8fe.js"><link rel="prefetch" href="/assets/js/15.c2d2df8c.js"><link rel="prefetch" href="/assets/js/150.dba60486.js"><link rel="prefetch" href="/assets/js/151.131c2ce3.js"><link rel="prefetch" href="/assets/js/152.560eeb06.js"><link rel="prefetch" href="/assets/js/153.1cfbc79f.js"><link rel="prefetch" href="/assets/js/154.c5655caf.js"><link rel="prefetch" href="/assets/js/155.c92ad179.js"><link rel="prefetch" href="/assets/js/156.9fc44265.js"><link rel="prefetch" href="/assets/js/157.090ca3c1.js"><link rel="prefetch" href="/assets/js/16.6daac1e7.js"><link rel="prefetch" href="/assets/js/17.406fdde6.js"><link rel="prefetch" href="/assets/js/18.a1aabc2b.js"><link rel="prefetch" href="/assets/js/19.a53b49dc.js"><link rel="prefetch" href="/assets/js/20.325fdfb6.js"><link rel="prefetch" href="/assets/js/21.cde8ab77.js"><link rel="prefetch" href="/assets/js/22.06dc284a.js"><link rel="prefetch" href="/assets/js/23.b35df20f.js"><link rel="prefetch" href="/assets/js/24.779ffa04.js"><link rel="prefetch" href="/assets/js/25.7993b42b.js"><link rel="prefetch" href="/assets/js/26.2ebafd18.js"><link rel="prefetch" href="/assets/js/27.12853f03.js"><link rel="prefetch" href="/assets/js/28.8d9f6449.js"><link rel="prefetch" href="/assets/js/29.cf148313.js"><link rel="prefetch" href="/assets/js/30.9b673196.js"><link rel="prefetch" href="/assets/js/31.bf891295.js"><link rel="prefetch" href="/assets/js/32.20aa0698.js"><link rel="prefetch" href="/assets/js/33.636a605e.js"><link rel="prefetch" href="/assets/js/34.61a1356f.js"><link rel="prefetch" href="/assets/js/35.e0cdda34.js"><link rel="prefetch" href="/assets/js/36.d30bbd64.js"><link rel="prefetch" href="/assets/js/37.e487f920.js"><link rel="prefetch" href="/assets/js/38.3fcda728.js"><link rel="prefetch" href="/assets/js/39.50b8c6ed.js"><link rel="prefetch" href="/assets/js/4.9ca6cf7c.js"><link rel="prefetch" href="/assets/js/40.f94bf04f.js"><link rel="prefetch" href="/assets/js/41.9ad94242.js"><link rel="prefetch" href="/assets/js/42.d2d91424.js"><link rel="prefetch" href="/assets/js/43.29476573.js"><link rel="prefetch" href="/assets/js/44.0966555c.js"><link rel="prefetch" href="/assets/js/46.15a94e24.js"><link rel="prefetch" href="/assets/js/47.2c076114.js"><link rel="prefetch" href="/assets/js/48.2c2f7303.js"><link rel="prefetch" href="/assets/js/49.c959be81.js"><link rel="prefetch" href="/assets/js/5.5f68cb2f.js"><link rel="prefetch" href="/assets/js/50.1649a842.js"><link rel="prefetch" href="/assets/js/51.a38ac73b.js"><link rel="prefetch" href="/assets/js/52.b15b72a5.js"><link rel="prefetch" href="/assets/js/53.e65c7b60.js"><link rel="prefetch" href="/assets/js/54.e9c0be84.js"><link rel="prefetch" href="/assets/js/55.14ce8244.js"><link rel="prefetch" href="/assets/js/56.02dc2f2a.js"><link rel="prefetch" href="/assets/js/57.e6362e7b.js"><link rel="prefetch" href="/assets/js/58.e27f1a3c.js"><link rel="prefetch" href="/assets/js/59.ef3d794c.js"><link rel="prefetch" href="/assets/js/60.e780ff55.js"><link rel="prefetch" href="/assets/js/61.34b7d00b.js"><link rel="prefetch" href="/assets/js/62.b483a660.js"><link rel="prefetch" href="/assets/js/63.da415371.js"><link rel="prefetch" href="/assets/js/64.b990b85d.js"><link rel="prefetch" href="/assets/js/65.c81b4fc6.js"><link rel="prefetch" href="/assets/js/66.321bc26a.js"><link rel="prefetch" href="/assets/js/67.7ec96abe.js"><link rel="prefetch" href="/assets/js/68.639d713a.js"><link rel="prefetch" href="/assets/js/69.a90ec93b.js"><link rel="prefetch" href="/assets/js/7.08423de8.js"><link rel="prefetch" href="/assets/js/70.db79271f.js"><link rel="prefetch" href="/assets/js/71.03ac1080.js"><link rel="prefetch" href="/assets/js/72.33ab568a.js"><link rel="prefetch" href="/assets/js/73.356c9a6f.js"><link rel="prefetch" href="/assets/js/74.0232291b.js"><link rel="prefetch" href="/assets/js/75.d1eb1c3a.js"><link rel="prefetch" href="/assets/js/76.77098782.js"><link rel="prefetch" href="/assets/js/77.d9c2e53b.js"><link rel="prefetch" href="/assets/js/78.d8b6633d.js"><link rel="prefetch" href="/assets/js/79.6cfe42e0.js"><link rel="prefetch" href="/assets/js/8.4c5ce23e.js"><link rel="prefetch" href="/assets/js/80.3b03217e.js"><link rel="prefetch" href="/assets/js/81.6fe51e6c.js"><link rel="prefetch" href="/assets/js/82.b87cb7a5.js"><link rel="prefetch" href="/assets/js/83.d6f57c9e.js"><link rel="prefetch" href="/assets/js/84.0a7a2dcf.js"><link rel="prefetch" href="/assets/js/85.0b5540e6.js"><link rel="prefetch" href="/assets/js/86.9e87ca81.js"><link rel="prefetch" href="/assets/js/87.4f61eb3b.js"><link rel="prefetch" href="/assets/js/88.ad473005.js"><link rel="prefetch" href="/assets/js/89.e1894cc4.js"><link rel="prefetch" href="/assets/js/9.d1823394.js"><link rel="prefetch" href="/assets/js/90.b196597f.js"><link rel="prefetch" href="/assets/js/91.61dd1400.js"><link rel="prefetch" href="/assets/js/92.9324381f.js"><link rel="prefetch" href="/assets/js/93.54a1fc02.js"><link rel="prefetch" href="/assets/js/94.2ab8949d.js"><link rel="prefetch" href="/assets/js/95.340b6689.js"><link rel="prefetch" href="/assets/js/96.1457a554.js"><link rel="prefetch" href="/assets/js/97.f90499e0.js"><link rel="prefetch" href="/assets/js/98.479f275f.js"><link rel="prefetch" href="/assets/js/99.6a9ba53b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.acccec19.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo-color.png" alt="软件架构探索：The Fenix Project" class="logo"> <span class="site-name can-hide">软件架构探索：The Fenix Project</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board/" class="nav-link">
  讨论区
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board/" class="nav-link">
  讨论区
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/summary/" class="sidebar-link">目录</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/about-me.html" class="sidebar-link">关于作者</a></li><li><a href="/introduction/about-the-fenix-project.html" class="sidebar-link">什么是“The Fenix Project”</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>探索起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>阅读指引</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/changelog/" class="sidebar-link">更新日志</a></li><li><a href="/exploration/guide/quick-start.html" class="sidebar-link">如何开始</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/exploration/projects/" class="sidebar-heading clickable"><span>技术演示工程</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/exploration/projects/fenix-bookstore-frontend.html" class="sidebar-link">前端工程</a></li><li><a href="/exploration/projects/monolithic_arch_springboot.html" class="sidebar-link">单体架构：Spring Boot</a></li><li><a href="/exploration/projects/microservice_arch_springcloud.html" class="sidebar-link">微服务：Spring Cloud</a></li><li><a href="/exploration/projects/microservice_arch_kubernetes.html" class="sidebar-link">微服务：Kubernetes</a></li><li><a href="/exploration/projects/servicemesh_arch_istio.html" class="sidebar-link">服务网格：Istio</a></li><li><a href="/exploration/projects/serverless_arch.html" class="sidebar-link">无服务：AWS Lambda</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>演进中的架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architecture/architect-history/" class="sidebar-heading clickable open"><span>服务架构演进史</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/architect-history/primitive-distribution.html" class="sidebar-link">原始分布式时代</a></li><li><a href="/architecture/architect-history/monolithic.html" class="sidebar-link">单体系统时代</a></li><li><a href="/architecture/architect-history/soa.html" class="sidebar-link">SOA时代</a></li><li><a href="/architecture/architect-history/microservices.html" class="sidebar-link">微服务时代</a></li><li><a href="/architecture/architect-history/post-microservices.html" class="sidebar-link">后微服务时代</a></li><li><a href="/architecture/architect-history/serverless.html" class="sidebar-link">无服务时代</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>架构师的视角</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/api-style/" class="sidebar-heading clickable open"><span>访问远程服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/api-style/rpc.html" class="sidebar-link">远程服务调用</a></li><li><a href="/architect-perspective/general-architecture/api-style/rest.html" class="sidebar-link">REST设计风格</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/transaction/" class="sidebar-heading clickable"><span>事务处理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/transaction/local.html" class="sidebar-link">本地事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/global.html" class="sidebar-link">全局事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/share.html" class="sidebar-link">共享事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/distributed.html" class="sidebar-link">分布式事务</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/diversion-system/" class="sidebar-heading clickable"><span>透明多级分流系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/diversion-system/client-cache.html" class="sidebar-link">客户端缓存</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/dns-lookup.html" class="sidebar-link">域名解析</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/transmission-optimization.html" class="sidebar-link">传输链路</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cdn.html" class="sidebar-link">内容分发网络</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/load-balancing.html" class="sidebar-link">负载均衡</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cache-middleware.html" class="sidebar-link">服务端缓存</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/system-security/" class="sidebar-heading clickable"><span>架构安全性</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/system-security/authentication.html" class="sidebar-link">认证</a></li><li><a href="/architect-perspective/general-architecture/system-security/authorization.html" class="sidebar-link">授权</a></li><li><a href="/architect-perspective/general-architecture/system-security/credentials.html" class="sidebar-link">凭证</a></li><li><a href="/architect-perspective/general-architecture/system-security/confidentiality.html" class="sidebar-link">保密</a></li><li><a href="/architect-perspective/general-architecture/system-security/transport-security.html" class="sidebar-link">传输</a></li><li><a href="/architect-perspective/general-architecture/system-security/verification.html" class="sidebar-link">验证</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式的基石</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/consensus/" class="sidebar-heading clickable open"><span>分布式共识算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/consensus/paxos.html" class="sidebar-link">Paxos</a></li><li><a href="/distribution/consensus/raft.html" class="sidebar-link">Multi Paxos与Raft</a></li><li><a href="/distribution/consensus/gossip.html" class="sidebar-link">Gossip协议</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/connect/" class="sidebar-heading clickable"><span>从类库到服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/connect/service-discovery.html" class="sidebar-link">服务发现</a></li><li><a href="/distribution/connect/service-routing.html" class="sidebar-link">网关路由</a></li><li><a href="/distribution/connect/load-balancing.html" class="sidebar-link">客户端负载均衡</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/traffic-management/" class="sidebar-heading clickable"><span>流量治理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/traffic-management/failure.html" class="sidebar-link">服务容错</a></li><li><a href="/distribution/traffic-management/traffic-control.html" class="sidebar-link">流量控制</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/secure/" class="sidebar-heading clickable"><span>可靠通讯</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/secure/zero-trust.html" class="sidebar-link">零信任网络</a></li><li><a href="/distribution/secure/service-security.html" class="sidebar-link">服务安全</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/observability/" class="sidebar-heading clickable"><span>可观测性</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/observability/logging.html" class="sidebar-link">事件日志</a></li><li><a href="/distribution/observability/tracing.html" class="sidebar-link">链路追踪</a></li><li><a href="/distribution/observability/metrics.html" class="sidebar-link">聚合度量</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>不可变基础设施</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/msa-to-cn.html" class="sidebar-link">从微服务到云原生</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/container/" class="sidebar-heading clickable"><span>虚拟化容器</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/container/history.html" class="sidebar-link">容器的崛起</a></li><li><a href="/immutable-infrastructure/container/container-build-system.html" class="sidebar-link">以容器构建系统</a></li><li><a href="/immutable-infrastructure/container/application-centric.html" class="sidebar-link">应用为中心的封装</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/network/" class="sidebar-heading clickable"><span>容器间网络</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/network/linux-vnet.html" class="sidebar-link">Linux网络虚拟化</a></li><li><a href="/immutable-infrastructure/network/cni.html" class="sidebar-link">容器网络与生态</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/storage/" class="sidebar-heading clickable router-link-active open"><span>持久化存储</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/storage/storage-evolution.html" class="active sidebar-link">Kubernetes存储设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/immutable-infrastructure/storage/storage-evolution.html#mount和volume" class="sidebar-link">Mount和Volume</a></li><li class="sidebar-sub-header"><a href="/immutable-infrastructure/storage/storage-evolution.html#static-provisioning" class="sidebar-link">Static Provisioning</a></li><li class="sidebar-sub-header"><a href="/immutable-infrastructure/storage/storage-evolution.html#dynamic-provisioning" class="sidebar-link">Dynamic Provisioning</a></li></ul></li><li><a href="/immutable-infrastructure/storage/csi.html" class="sidebar-link">容器存储与生态</a></li></ul></section></li><li><a href="/immutable-infrastructure/schedule/hardware-schedule.html" class="sidebar-link">资源与调度</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/mesh/" class="sidebar-heading clickable"><span>服务网格</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/mesh/communication.html" class="sidebar-link">透明通信的涅槃</a></li><li><a href="/immutable-infrastructure/mesh/ecosystems.html" class="sidebar-link">服务网格与生态</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>技术方法论</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/methodology/forward-msa/" class="sidebar-heading clickable open"><span>向微服务迈进</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/methodology/forward-msa/objective.html" class="sidebar-link">目的：微服务的驱动力</a></li><li><a href="/methodology/forward-msa/prerequest.html" class="sidebar-link">前提：微服务需要的条件</a></li><li><a href="/methodology/forward-msa/granularity.html" class="sidebar-link">边界：微服务的粒度</a></li><li><a href="/methodology/forward-msa/governance.html" class="sidebar-link">治理：理解系统复杂性</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>随笔文章</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>2020年</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-2"><a href="/tricks/2020/graalvm/" class="sidebar-heading clickable open"><span>Graal VM</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tricks/2020/graalvm/graal-compiler.html" class="sidebar-link">新一代即时编译器</a></li><li><a href="/tricks/2020/graalvm/substratevm.html" class="sidebar-link">向原生迈进</a></li><li><a href="/tricks/2020/graalvm/graalvm-native.html" class="sidebar-link">没有虚拟机的Java</a></li><li><a href="/tricks/2020/graalvm/spring-over-graal.html" class="sidebar-link">Spring over Graal</a></li></ul></section></li><li><a href="/tricks/2020/java-crisis/qcon.html" class="sidebar-link">QCon2020主题演讲：云原生时代，Java的危与机</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>附录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/appendix/deployment-env-setup/" class="sidebar-heading clickable open"><span>部署环境</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/deployment-env-setup/setup-docker.html" class="sidebar-link">部署Docker CE容器环境</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/appendix/deployment-env-setup/setup-kubernetes/" class="sidebar-heading clickable"><span>部署Kubernetes集群</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><a href="/appendix/istio.html" class="sidebar-link">部署Istio</a></li><li><a href="/appendix/operation-env-setup/elk-setup.html" class="sidebar-link">部署Elastic Stack</a></li><li><a href="/appendix/operation-env-setup/prometheus-setup.html" class="sidebar-link">部署Prometheus</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kubernetes存储设计">Kubernetes存储设计</h1> <p>Kubernete在规划持久化存储能力的时候，依然遵循着它的一贯设计哲学，用户负责以资源和声明式API来描述自己的意图，Kubernetes负责根据用户意图来完成具体的操作。不过，就算仅仅是描述清楚用户的存储意图也并不是一件容易的事，相比起Kubernetes提供其他能力的资源，其内置的存储资源显得格外地复杂，甚至可以说是有些烦琐的。如果你是Kubernetes的拥趸，无法认同笔者对Kubernetes的批评，那不妨来看一看下列围绕着“Volume”所衍生出的概念，它们仅仅是Kubernetes存储相关的概念的一个子集而已，请你思考一下这些概念是否全都是必须的，是否还有整合的空间，是否有化繁为简的可能性：</p> <blockquote><ul><li><strong>概念</strong>：<a href="https://kubernetes.io/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">Volume<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener noreferrer">PersistentVolume<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims" target="_blank" rel="noopener noreferrer">PersistentVolumeClaim<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/" target="_blank" rel="noopener noreferrer">Provisioner<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/storage-classes/" target="_blank" rel="noopener noreferrer">StorageClass<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/volume-snapshots/" target="_blank" rel="noopener noreferrer">Volume Snapshot<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/volume-snapshot-classes/" target="_blank" rel="noopener noreferrer">Volume Snapshot Class<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/ephemeral-volumes/" target="_blank" rel="noopener noreferrer">Ephemeral Volumes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-storage/flexvolume.md" target="_blank" rel="noopener noreferrer">FlexVolume Driver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://github.com/container-storage-interface/spec/blob/master/spec.md" target="_blank" rel="noopener noreferrer">Container Storage Interface<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/volume-pvc-datasource/" target="_blank" rel="noopener noreferrer">CSI Volume Cloning<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://v1-17.docs.kubernetes.io/docs/concepts/storage/storage-limits/" target="_blank" rel="noopener noreferrer">Volume Limits<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#volume-mode" target="_blank" rel="noopener noreferrer">Volume Mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#volume-mode" target="_blank" rel="noopener noreferrer">Access Modes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/storage-capacity/" target="_blank" rel="noopener noreferrer">Storage Capacity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>……</li> <li><strong>操作</strong>：<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#mount-options" target="_blank" rel="noopener noreferrer">Mount<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#using" target="_blank" rel="noopener noreferrer">Bind<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#using" target="_blank" rel="noopener noreferrer">Use<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#provisioning" target="_blank" rel="noopener noreferrer">Provision<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#claims-as-volumes" target="_blank" rel="noopener noreferrer">Claim<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#reclaiming" target="_blank" rel="noopener noreferrer">Reclaim<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#reserving-a-persistentvolume" target="_blank" rel="noopener noreferrer">Reserve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#expanding-persistent-volumes-claims" target="_blank" rel="noopener noreferrer">Expand<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/volume-pvc-datasource/#usage" target="_blank" rel="noopener noreferrer">Clone<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/storage-capacity/#scheduling" target="_blank" rel="noopener noreferrer">Schedule<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://kubernetes.io/docs/concepts/storage/storage-capacity/#rescheduling" target="_blank" rel="noopener noreferrer">Reschedule<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>……</li></ul></blockquote> <p>诚然，Kubernetes摆弄出如此多关于存储的术语概念，最重要的原因是存储技术来就门类众多，为了尽可能多地兼容各种存储，Kubernetes不得不预置了很多In-Tree（意思是在Kubernetes的代码树里）插件来对接，让用户根据自己业务按需选择。同时，为了兼容那些不在预置范围内的需求场景，支持用户使用FlexVolume或者CSI来定制Out-of-Tree（意思是在Kubernetes的代码树之外）的插件，实现更加丰富多样的存储能力。表13-1列出了部分Kubernetes目前提供的存储与扩展：</p> <div class="custom-block center"><p>表13-1：Kubernetes目前提供的存储</p></div> <table><thead><tr><th>Temp</th> <th>Ephemeral（Local）</th> <th>Persistent（Network）</th> <th>Extension</th></tr></thead> <tbody><tr><td>EmptyDir</td> <td>HostPath<br>GitRepo<br>Local<br>Secret<br>ConfigMap<br>DownwardAPI</td> <td>AWS Elastic Block Store<br>GCE Persistent Disk<br>Azure Data Disk<br>Azure File Storage<br>vSphere<br>CephFS and RBD<br>GlusterFS<br>iSCSI<br>Cinder<br>Dell EMC  ScaleIO<br>……</td> <td>FlexVolume<br>CSI</td></tr></tbody></table> <p>迫使Kubernetes存储设计成如此复杂，还有另外一个非技术层面的原因：Kubernetes是一个工业级的、面向生产应用的容器编排系统，这意味着即使发现某些已存在的功能有更好的实现方式，直到旧版本被淘汰出生产环境以前，原本已支持的功能都不允许突然间被移除或者替换掉，否则，如果生产系统一更新版本，已有的功能就出现异常，那对产品的累积的良好信誉是相当不利的。</p> <p>为了兼容而导致的烦琐，在一定程度上可以被谅解，但这样的设计的确令Kubernetes的学习曲线变得更加陡峭。Kubernets官方文档的主要作用是参考手册，它并不会告诉你Kubernetes中各种概念的演化历程、版本发布新功能的时间线、改动的缘由与背景等信息。Kubernetes的文档系统只会以“平坦”的方式来陈述所有目前可用的功能，这有利于熟练的管理员快速查询到关键信息，却不利于初学者去理解Kubernetes的设计思想，由于难以理解那些概念和操作的本意，往往只能死记硬背，也很难分辨出它们应该如何被“更正确”的使用。介绍Kubernetes设计理念的职责，只能由<a href="https://kubernetes.io/blog/" target="_blank" rel="noopener noreferrer">Kubernetes官方的Blog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这类定位超越了帮助手册的信息渠道，或者其他非官方资料去完成。本节，笔者会以Volume概念从操作系统到Docker，再到Kubernetes的演进历程为主线，去梳理前面提及的那些概念与操作，以此帮助大家理解Kubernetes的存储设计。</p> <h2 id="mount和volume">Mount和Volume</h2> <p>Mount和Volume都是来源自操作系统的常用术语，Mount是动词，表示将某个外部存储挂载到系统中，Volume是名词，表示物理存储的逻辑抽象，目的是为物理存储提供有弹性的分割方式。容器源于对操作系统层的虚拟化，为了满足容器内生成数据的外部存储需求，也很自然地会将Mount和Volume的概念延拓至容器中。我们去了解容器存储的发展，不妨就以Docker的Mount操作为起始点。</p> <p>目前，Docker内建支持了三种挂载类型，分别是Bind（<code>--mount type=bind</code>）、Volume（<code>--mount type=volume</code>）和tmpfs（<code>--mount type=tmpfs</code>），如下图所示。其中tmpfs用于在内存中读写临时数据，与本节主要讨论的对象持久化存储并不相符，所以后面我们只着重关注Bind和Volume两种挂载类型。</p> <div class="custom-block center"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfUAAAD/CAMAAADfer/xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAx9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEI2QzdBNzkwMkQwMTFFQkIzRTJBMThDRDhFMzk4RTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEI2QzdBN0EwMkQwMTFFQkIzRTJBMThDRDhFMzk4RTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQjZDN0E3NzAyRDAxMUVCQjNFMkExOENEOEUzOThFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQjZDN0E3ODAyRDAxMUVCQjNFMkExOENEOEUzOThFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuQKf88AAAGAUExURZKhq3eLlldYWeHv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" alt="">
Docker的三种挂载类型（图片来自<a href="https://docs.docker.com/storage/" target="_blank" rel="noopener noreferrer">Docker官网文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</p></div> <p>Bind Mount是Docker最早提供的（发布时就支持）挂载类型，作用是把宿主机的某个目录（或文件）挂载到容器的指定目录（或文件）下，譬如以下命令中参数<code>-v</code>表达的意思就是将外部的HTML文档挂到Nginx容器的默认网站根目录下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker run -v /icyfenix/html:/usr/share/nginx/html nginx:latest
</code></pre></div><p>请注意，虽然命令中<code>-v</code>参数是<code>--volume</code>的缩写，但<code>-v</code>最初只是用来创建Bind Mount而不是创建Volume Mount的，这种迷惑的行为也并非Docker的本意，只是由于Docker刚发布时考虑得不够周全，随随便便就在参数中占用了“Volume”这个词，到后来真的需要扩展Volume的概念来支持Volume Mount时，前面的<code>-v</code>已经被用户广泛使用了，所以也就只得如此将就着继续用。从Docker 17.06版本开始，它在Docker Swarm中借用了<code>--mount</code>参数过来，这个参数默认创建的是Volume Mount，可以通过明确的type子参数来指定另外两种挂载类型。上面命令可以等价于<code>--mount</code>版本如下形式：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker run --mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span>/icyfenix/html,destination<span class="token operator">=</span>/usr/share/nginx/html nginx:latest
</code></pre></div><p>从Bind Mount到Volume Mount，实质是容器发展过程中对存储抽象能力提升的外在表现。从“Bind”这个名字，以及Bind Mount的实际功能可以合理地推测，Docker最初认为“Volume”就只是一种“外部宿主机的磁盘存储到内部容器存储的映射关系”，但后来眉头一皱发现事情并没有那么简单：存储的位置并不局限只在外部宿主机、存储的介质并不局限只是物理磁盘、存储的管理也并不局限只有映射关系。</p> <p>譬如，Bind Mount只能让容器与本地宿主机之间建立了某个目录的映射，如果想要在不同宿主机上的容器共享同一份存储，就必须先把共享存储挂载到每一台宿主机操作系统的某个目录下，然后才能逐个挂载到容器内使用，这种跨宿主机共享存储的场景如下图所示。</p> <div class="custom-block center"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkkAAAEbCAMAAAD58OBnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNjNCQTIyQzA0ODUxMUVCQTcwRUYzMTdEMDlGNDJDRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNjNCQTIyRDA0ODUxMUVCQTcwRUYzMTdEMDlGNDJDRCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE2M0JBMjJBMDQ4NTExRUJBNzBFRjMxN0QwOUY0MkNEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE2M0JBMjJCMDQ4NTExRUJBNzBFRjMxN0QwOUY0MkNEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+TwbW6wAAAYBQTFRF78+uuOr+Z3aF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" alt="">
跨主机的共享存储需求（图片来自<a href="https://docs.docker.com/storage/volumes/" target="_blank" rel="noopener noreferrer">Docker官网文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</p></div> <p>这种存储范围超越了宿主机的共享存储，配置过程却要涉及到大量与宿主机环境相关的操作，只能由管理员人工去完成，不仅烦琐，而且每台宿主机环境的差异导致还很难自动化。</p> <p>又譬如即便只考虑单台宿主机的情况，基于可管理性的需求，Docker也完全有支持Volume Mount的必要。Bind Mount的设计里，Docker只有容器的控制权，存放容器生产数据的主机目录是完全独立的，与Docker没有任何关系，既不受Docker保护，也不受Docker管理。数据很容易被其他进程访问到，甚至是被修改和删除。如果用户想对挂载的目录进行备份、迁移等管理运维操作，也只能在Docker之外靠管理员人工进行，这都增加了数据安全与操作意外的风险。因此，Docker希望能有一种抽象的资源来代表在宿主机或网络中存储的区域，以便让Docker能管理这些资源，由此就很自然地联想到了操作系统里Volume的概念。</p> <p>最后，提出Volume最核心的一个目的是为了提升Docker对不同存储介质的支撑能力，这同时也是为了减轻Docker本身的工作量。存储并不是仅有挂载在宿主机上的物理存储这一种介质，云计算时代，网络存储渐成数据中心的主流选择，不同的网络存储有各自的协议和交互接口，而且并非所有存储系统都适合先挂载到操作系统，然后再挂载到容器的，如果Docker想要越过操作系统去支持挂载某种存储系统，首先必须要知道该如何访问它，然后才能将容器中的读写操作自动转移到该位置。Docker把解决如何访问存储的功能模块称为存储驱动（Storage Driver）。通过<code>docker info</code>命令，你能查看到当前Docker所支持的存储驱动。虽然Docker已经内置了市面上主流的OverlayFS驱动，譬如Overlay、Overlay2、AUFS、BTRFS、ZFS，等等，但面对云计算的快速发展迭代，仅靠Docker自己来支持全部云计算厂商的存储系统是完全不现实的，为此，Docker提出了与Storage Driver相对应的Volume Driver（卷驱动）的概念。用户可以通过<code>docker plugin install</code>命令安装<a href="https://docs.docker.com/engine/extend/legacy_plugins/" target="_blank" rel="noopener noreferrer">外部的卷驱动<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，并在创建Volume时指定一个与其存储系统相匹配的卷驱动，譬如希望数据存储在AWS Elastic Block Store上，就找一个AWS EBS的驱动，如果想存储在Azure File Storage上，也是找一个对应的Azure File Storage驱动即可。如果创建Volume时不指定卷驱动，那默认就是local类型，在Volume中存放的数据会存储在宿主机的<code>/var/lib/docker/volumes/</code>目录之中。</p> <h2 id="static-provisioning">Static Provisioning</h2> <p>现在我们把讨论主角转回容器编排系统上。Kubernetes同样将操作系统和Docker的Volume概念延续了下来，并且对其进一步细化。Kubernetes将Volume分为持久化的PersistentVolume和非持久化的普通Volume两类。为了不与前面定义的Volume这个概念产生混淆，后面特指Kubernetes中非持久化的Volume时，都会带着“普通”前缀。</p> <p>普通Volume的设计目标不是为了持久地保存数据，而是为同一个Pod中多个容器提供可共享的存储资源，因此Volume具有十分明确的生命周期——与挂载它的Pod相同的生命周期，这意味着尽管普通Volume不具备持久化的存储能力，但至少比Pod中运行的任何容器的存活期都更长，Pod中不同的容器能共享相同的普通Volume，当容器重新启动时，普通Volume中的数据也会能够得到保留。当然，一旦整个Pod被销毁，普通Volume也将不复存在，数据在逻辑上也会被销毁掉，至于实质上会否会真正删除数据，就取决于存储驱动具体是如何实现Unmount、Detach、Delete接口的，由于本节的主题为“持久化存储”，所以无持久化能力的普通Volume就不再展开了。</p> <p>从操作系统里传承下来的Volume概念，在Docker和Kubernetes中继续按照一致的逻辑延伸拓展，只不过Kubernetes为将其与普通Volume区别开来，专门取了PersistentVolume这个名字，你可以从下图中直观地看出普通Volume、PersistentVolume和Pod之间的关系差异。</p> <div class="custom-block center"><p><img src="/assets/img/v-pv.f0cbd603.png" alt="">
普通Volume与PersistentVolume的差别</p></div> <p>从“Persistent”这个单词就能顾名思义，PersistentVolume是指能够将数据进行持久化存储的一种资源对象，它可以独立于Pod存在，生命周期与Pod无关，因此也决定了PersistentVolume不应该依附于任何一个宿主机节点，否则必然会对Pod调度产生干扰限制。前面表13-1中“Persistent”一列里看到的都是网络存储便是很好的印证。</p> <div class="quote"><p class="title">额外知识：Local PersistentVolume</p><p>对于部署在云端数据中心的系统，通过网络访问同一个可用区中的远程存储，速度是完全可以接受的。但对于私有部署的系统，基于性能考虑，使用本地存储往往会更为常见。</p> <p>考虑到这样的实际需求，从1.10版起，Kubernetes开始支持<a href="https://kubernetes.io/blog/2019/04/04/kubernetes-1.14-local-persistent-volumes-ga/" target="_blank" rel="noopener noreferrer">Local PersistentVolume<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，这是一种将一整块本地磁盘作为PersistentVolume供容器使用的专用方案。“专用方案”就是字面意思，它并不适用于全部应用，Local PersistentVolume只是针对以磁盘I/O为瓶颈的特定场景的解决方案，副作用十分明显：由于不能保证这种本地磁盘在每个节点中都一定存在，所以Kubernetes在调度时就必须考虑到PersistentVolume分布情况，只能把使用了Local PersistentVolume的Pod调度到有这种PersistentVolume的节点上。调度器中专门有个<a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#volume-binding-mode" target="_blank" rel="noopener noreferrer">Volume Binding Mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>模式来支持这项处理，尽管如此，一旦使用了Local PersistentVolume，无疑是会限制Pod的可调度范围。</p></div><p>将PersistentVolume与Pod分离后，便需要专门考虑PersistentVolume该如何被Pod所引用的问题。原本在Pod中引用其他资源是常有的事，要么直接通过资源名称直接引用，要么通过<a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener noreferrer">标签选择器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（Selectors）间接引用。但是类似的方法在这里却都不太妥当，至于原因，请你想一下“Pod该使用何种存储”这件事情，应该是系统管理员（运维人员）说的算，还是由用户（开发人员）说的算？最合理的答案是他们一起说的才算，因为只有开发能准确评估Pod运行需要消耗多大的存储空间，只有运维能清楚知道当前系统可以使用的存储设备状况，为了让他们得以各自提供自己擅长的信息，Kubernetes又额外设计出了PersistentVolumeClaim资源。Kubernetes官方给出的概念定义也特别强调了PersistentVolume是由管理员（运维人员）负责维护的，用户（开发人员）通过PersistentVolumeClaim来匹配到合乎需求的PersistentVolume。</p> <div class="quote"><p class="title">PersistentVolume &amp; PersistentVolumeClaim</p><p>A PersistentVolume （PV） is a piece of storage in the cluster that has been provisioned <strong>by an administrator</strong>. <br>A PersistentVolumeClaim （PVC） is a request for storage <strong>by a user</strong>.</p> <p>PersistentVolume是由管理员负责提供的集群存储。<br>PersistentVolumeClaim是由用户负责提供的存储请求。</p> <div class="custom-block right"><p>—— Kubernetes Reference Documentation，<a href="https://jamesdefabia.github.io/docs/user-guide/persistent-volumes/" target="_blank" rel="noopener noreferrer">Persistent Volumes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div></div><p>PersistentVolume是Volume这个抽象概念的具象化表现，通俗地说就它是已经被管理员分配好的具体的存储，这里的“具体”是指有明确的存储系统地址，有明确的容量、访问模式、存储位置等信息；而PersistentVolumeClaim则是Pod对其所需存储能力的声明，通俗地说就是满足这个Pod正常运行要满足怎样的条件，譬如要消耗多大的存储空间、要支持怎样的访问方式。因此两者并不是谁引用谁的固定关系，而是根据实际情况动态匹配的，两者配合工作的具体过程如下。</p> <ol><li>管理员准备好要使用的存储系统，它应是某种网络文件系统（NFS）或者云储存系统，一般来说应该具备跨主机共享的能力。</li> <li>管理员根据存储系统的实际情况，手工预先分配好若干个PersistentVolume，并定义好每个PersistentVolume可以提供的具体能力。譬如以下例子所示：<div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PersistentVolume
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>html
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">capacity</span><span class="token punctuation">:</span>
    <span class="token key atrule">storage</span><span class="token punctuation">:</span> 5Gi                          <span class="token comment"># 最大容量为5GB</span>
  <span class="token key atrule">accessModes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ReadWriteOnce                       <span class="token comment"># 访问模式为RXO</span>
  <span class="token key atrule">persistentVolumeReclaimPolicy</span><span class="token punctuation">:</span> Retain	  <span class="token comment"># 回收策略是Retain</span>
  <span class="token key atrule">nfs</span><span class="token punctuation">:</span>                                    <span class="token comment"># 存储驱动是NFS</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /html
    <span class="token key atrule">server</span><span class="token punctuation">:</span> 172.17.0.2
</code></pre></div>以上YAML中定义的存储能力具体为：
<ul><li>存储的最大容量是5GB。</li> <li>存储的访问模式是“只能被一个节点读写挂载”（ReadWriteOnce，RWO），另外两种可选的访问模式是“可以被多个节点以只读方式挂载”（ReadOnlyMany，ROX）和“可以被多个节点读写挂载”（ReadWriteMany，RWX）。</li> <li>存储的回收策略是Retain，即在Pod被销毁时并不会删除数据。另外两种可选的回收策略分别是Recycle ，即在Pod被销毁时，由Kubernetes自动执行<code>rm -rf /volume/*</code>这样的命令来自动删除资料；以及Delete，它让Kubernetes自动调用AWS EBS、GCE PersistentDisk、OpenStack Cinder这些云存储的删除指令。</li> <li>存储驱动是NFS，其他常见的存储驱动还有AWS EBS、GCE PD、iSCSI、RBD（Ceph Block Device）、GlusterFS、HostPath，等等。</li></ul></li> <li>用户根据业务系统的实际情况，创建PersistentVolumeClaim，声明Pod运行所需的存储能力。譬如以下例子所示：<div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">kind</span><span class="token punctuation">:</span> PersistentVolumeClaim
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>html<span class="token punctuation">-</span>claim
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">accessModes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ReadWriteOnce    <span class="token comment"># 支持RXO访问模式</span>
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">requests</span><span class="token punctuation">:</span>
      <span class="token key atrule">storage</span><span class="token punctuation">:</span> 5Gi     <span class="token comment"># 最小容量5GB</span>
</code></pre></div>以上YAML中声明了要求容量不得小于5GB，必须支持RWO的访问模式。</li> <li>Kubernetes创建Pod的过程中，会根据系统中PersistentVolume与PersistentVolumeClaim的供需关系对两者进行撮合，如果系统中存在满足PersistentVolumeClaim声明中要求能力的PersistentVolume则撮合成功，将它们绑定。如果撮合不成功，Pod就不会被继续创建，直至系统中出现新的或让出空闲的PersistentVolume资源。</li> <li>以上几步都顺利完成的话，意味着Pod的存储需求得到满足，继续Pod的创建过程，整个过程如下图所示。</li></ol> <div class="custom-block center"><p><img src="/assets/img/pv-pvc.992096ca.png" alt="">
PersistentVolumeClaim与PersistentVolume运作过程（图片来自《<a href="https://www.manning.com/books/kubernetes-in-action" target="_blank" rel="noopener noreferrer">Kubernetes in Action<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>》）</p></div> <p>Kubernetes对PersistentVolumeClaim与PersistentVolume撮合的结果是产生一对一的绑定关系，“一对一”的意思是PersistentVolume一旦绑定在某个PersistentVolumeClaim上，直到释放以前都会被这个PersistentVolumeClaim所独占，不能再与其他PersistentVolumeClaim进行绑定。这意味着即使PersistentVolumeClaim申请的存储空间比PersistentVolume能够提供的要少，依然要求整个存储空间都为该PersistentVolumeClaim所用，这有可能会造成资源的浪费。譬如，某个PersistentVolumeClaim要求3GB的存储容量，当前Kubernetes手上只剩下一个5GB的PersistentVolume了，此时Kubernetes只好将这个PersistentVolume与申请资源的PersistentVolumeClaim进行绑定，平白浪费了2GB空间。假设后续有另一个PersistentVolumeClaim申请2GB的存储空间，那它也只能等待管理员分配新的PersistentVolume，或者有其他PersistentVolume被回收之后才被能成功分配。</p> <h2 id="dynamic-provisioning">Dynamic Provisioning</h2> <p>对于中小规模的Kubernetes集群，PersistentVolume已经能够满足有状态应用的存储需求，PersistentVolume依靠人工介入来分配空间的设计算是简单直观，却算不上是先进，一旦应用规模增大，PersistentVolume很难被自动化的问题就会突显出来。这是由于Pod创建过程中去挂载某个Volume，要求该Volume必须是真实存在的，否则Pod启动可能依赖的数据（如一些配置、数据、外部资源等）都将无从读取。Kubernetes有能力随着流量压力和硬件资源状况，自动扩缩Pod的数量，但是当Kubernetes自动扩展出一个新的Pod后，并没有办法让Pod去自动挂载一个还未被分配资源的PersistentVolume。想解决这个问题，要么允许多个不同的Pod都共用相同的PersistentVolumeClaim，这种方案确实只靠PersistentVolume就能解决，却损失了隔离性，难以通用；要么就要求每个Pod用到的PersistentVolume都是已经被预先建立并分配好的，这种方案靠管理员提前手工分配好大量的存储也可以实现，却损失了自动化能力。</p> <p>无论哪种情况，都难以符合Kubernetes工业级编排系统的产品定位，对于大型集群，面对成百上千，来自成千上万的Pod，靠管理员手工分配存储肯定是捉襟见肘疲于应付的。在2017年Kubernetes发布1.6版本后，终于提供了今天被称为Dynamic Provisioning的动态存储解决方案，让系统管理员摆脱了人工分配的PersistentVolume的窘境，与之相对，人们把此前的分配方式称为Static Provisioning。</p> <p>所谓的Dynamic Provisioning方案，是指在用户声明存储能力的需求时，不是期望通过Kubernetes撮合来获得一个管理员人工预置的PersistentVolume，而是由特定的资源分配器（Provisioner）自动地在存储资源池或者云存储系统中分配符合用户存储需要的PersistentVolume，然后挂载到Pod中使用，完成这项工作的资源被命名为StorageClass，它的具体工作过程如下：</p> <ol><li>管理员根据储系统的实际情况，先准备好对应的Provisioner。Kubernetes官方已经提供了一系列<a href="https://kubernetes.io/docs/concepts/storage/storage-classes/" target="_blank" rel="noopener noreferrer">预置的In-Tree Provisioner<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，放置在<code>kubernetes.io</code>的API组之下。其中部分Provisioner已经有了官方的CSI驱动，譬如vSphere的Kubernetes自带驱动为<code>kubernetes.io/vsphere-volume</code>，VMware的官方驱动为<code>csi.vsphere.vmware.com</code>。</li> <li>管理员不再是手工去分配PersistentVolume，而是根据存储去配置StorageClass。Pod是可以动态扩缩的，而存储则是相对固定的，哪怕使用的是具有扩展能力的云存储，也会将它们视为存储容量、IOPS等参数可变的固定存储来看待，譬如你可以将来自不同云存储提供商、不同性能、支持不同访问模式的存储配置为各种类型的StorageClass，这也是它名字中“Class”（类型）的由来，譬如以下例子所示：<div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> storage.k8s.io/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> StorageClass
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> standard
<span class="token key atrule">provisioner</span><span class="token punctuation">:</span> kubernetes.io/aws<span class="token punctuation">-</span>ebs  <span class="token comment">#AWS EBS的Provisioner</span>
<span class="token key atrule">parameters</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> gp2
<span class="token key atrule">reclaimPolicy</span><span class="token punctuation">:</span> Retain
</code></pre></div></li> <li>用户依然通过PersistentVolumeClaim来声明所需的存储，但是应在声明中明确指出该由哪个StorageClass来代替Kubernetes处理该PersistentVolumeClaim的请求，譬如以下例子所示：<div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PersistentVolumeClaim
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> standard<span class="token punctuation">-</span>claim
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">accessModes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> ReadWriteOnce
  <span class="token key atrule">storageClassName</span><span class="token punctuation">:</span> standard  <span class="token comment">#明确指出该由哪个StorageClass来处理该PersistentVolumeClaim的请求</span>
  <span class="token key atrule">resource</span><span class="token punctuation">:</span>
    <span class="token key atrule">requests</span><span class="token punctuation">:</span>
      <span class="token key atrule">storage</span><span class="token punctuation">:</span> 5Gi
</code></pre></div></li> <li>如果PersistentVolumeClaim中要求的StorageClass及它用到的Provisioner均是可用的话，那这个StorageClass就会接管掉原本由Kubernetes撮合PersistentVolume与PersistentVolumeClaim的操作，按照PersistentVolumeClaim中声明的存储需求，自动产生出满足该需求的PersistentVolume描述信息，并发送给Provisioner处理。</li> <li>Provisioner接收到StorageClass发来的创建PersistentVolume请求后，会操作其背后存储系统去分配空间，如果分配成功，就生成并返回符合要求的PersistentVolume给Pod使用。</li> <li>以上几步都顺利完成的话，意味着Pod的存储需求得到满足，继续Pod的创建过程，整个过程如下图所示。</li></ol> <div class="custom-block center"><p><img src="/assets/img/storage-class.355177e7.png" alt="">
StorageClass运作过程（图片来自《<a href="https://www.manning.com/books/kubernetes-in-action" target="_blank" rel="noopener noreferrer">Kubernetes in Action<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>》）</p></div> <p>Dynamic Provisioning与Static Provisioning并不是各有用途的互补设计，而是对同一个问题先后出现的两种解决方案。你完全可以只用Dynamic Provisioning来实现所有的Static Provisioning能够实现的存储需求，包括那些不需要动态分配的场景，甚至之前例子里使用HostPath在本地静态分配存储，都可以指定<code>no-provisioner</code>作为Provisioner的StorageClass，以Local Persistent Volume来代替，譬如以下例子所示：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> storage.k8s.io/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> StorageClass
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> local<span class="token punctuation">-</span>storage
<span class="token key atrule">provisioner</span><span class="token punctuation">:</span> kubernetes.io/no<span class="token punctuation">-</span>provisioner
<span class="token key atrule">volumeBindingMode</span><span class="token punctuation">:</span> WaitForFirstConsumer
</code></pre></div><p>使用Dynamic Provisioning来分配存储无疑是更合理的设计，不仅省去了管理员的人工操作的中间层，也不再需要将PersistentVolume这样的概念暴露给最终用户，因为Dynamic Provisioning里的PersistentVolume只是处理过程的中间产物，用户不再需要接触和理解它，只需要知道由PersistentVolumeClaim去描述存储需求，由StorageClass去满足存储需求即可。只描述意图而不关心中间具体的处理过程是声明式编程的精髓，也是流程自动化的必要基础。</p> <p>由Dynamic Provisioning来分配存储还能获得更高的可管理性，譬如前面提到的回收策略，当希望PersistentVolume跟随Pod一同被销毁时，以前经常会配置回收策略为Recycle来回收空间，即让系统自动执行<code>rm -rf /volume/*</code>命令，这种方式往往过于粗暴，遇到更精细的管理需求，譬如“删除到回收站”或者“敏感信息粉碎式彻底删除”这样的功能实现起来就很麻烦。而Dynamic Provisioning中由于有Provisioner的存在，如何创建、如何回收都是由Provisioner的代码所管理的，这就带来了更高的灵活性。现在Kubernetes官方已经明确建议废弃掉Recycle策略，如有这类需求就应改由Dynamic Provisioning去实现了。</p> <p>Static Provisioning的主要使用场景已局限于管理员能够手工管理存储的小型集群，它符合很多小型系统，尤其是私有化部署系统的现状，但并不符合当今运维自动化所提倡的思路。Static Provisioning的存在，某种意义上也可以视为是对历史的一种兼容，在可见的将来，Kubernetes肯定仍会把Static Provisioning作为用户分配存储的一种主要方案供用户选用。</p></div> <footer class="page-edit"><!----> <div class="git-hub-star"><span class="prefix">
      Kudos to
      <span style="position:relative;top:4px;right:-4px;"><a href="https://github.com/fenixsoft/awesome-fenix" aria-label="Star fenixsoft/awesome-fenix on GitHub" data-icon="octicon-star" data-show-count="true">
      Star
    </a></span></span></div> <div class="last-updated"><span class="prefix">总字数:</span> <span class="words">7,027</span> <span class="prefix">字　</span> <span class="prefix">最后更新:</span> <span class="time">12/2/2020, 2:55:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
    ←
    <a href="/immutable-infrastructure/storage/" class="prev router-link-active">
      持久化存储
    </a></span> <span class="next"><a href="/immutable-infrastructure/storage/csi.html">
      容器存储与生态
    </a>
    →
  </span></p></div> </main></div><div class="global-ui"><div></div><!----></div></div>
    <script src="/assets/js/app.c6d84fc6.js" defer></script><script src="/assets/js/3.0a6c0dd5.js" defer></script><script src="/assets/js/6.b08f2b32.js" defer></script><script src="/assets/js/13.cfe7f46c.js" defer></script><script src="/assets/js/45.cffeafe3.js" defer></script>
  </body>
</html>
